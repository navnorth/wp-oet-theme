!function(){"use strict";var t,e={557:function(t,e,o){var n=window.wp.blocks,i=window.wp.i18n,l=JSON.parse('{"$schema":"https://json.schemastore.org/block.json","apiVersion":2,"name":"oet-block/oet-publication-intro-block","version":"0.1.0","title":"Publication Intro","category":"oet-block-category","icon":"format-aside","description":"Displays publication introduction section on a page.","keywords":["OET","publication","publication intro"],"attributes":{"title":{"type":"string"},"content":{"type":"string"},"isChanged":{"type":"boolean","default":false},"blockId":{"type":"string"}},"supports":{"html":false},"textdomain":"oet-publication-intro-block","editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./build/style-index.css"}'),r=window.wp.element,a=window.wp.blockEditor,c=window.wp.components,b=window.jQuery,s=o.n(b);function u(t){var e="Loading...";const{attributes:o,setAttributes:n,isSelected:l,clientId:b}=t;return b!==o.blockId&&n({blockId:b}),void 0!==o.isChanged&&0!=o.isChanged||(e=(0,r.createElement)("div",{className:"admin-publication-intro-heading"},(0,r.createElement)("div",{className:"intro"},(0,r.createElement)("div",{className:"intro-goal"},(0,r.createElement)("div",{className:"admin-publication-intro-error"}),(0,r.createElement)("div",{className:"title"},(0,r.createElement)(TextControl,{value:o.title,onChange:t=>{n({title:t})},className:"components-placeholder__input publication-intro-title",id:"pub-intro-title",placeholder:(0,i.__)("Enter title here...","oet-publication-intro-block")})),(0,r.createElement)(a.RichText,{value:o.content,allowedFormats:["core/bold","core/italic"],id:"pub-intro-content",onChange:t=>{n({content:t})},placeholder:(0,i.__)("Enter content here...","oet-publication-intro-block")})),(0,r.createElement)("div",{className:"btnImportPub"},(0,r.createElement)(c.Button,{className:"btn-import-publication components-button is-primary",onClick:()=>{var t=s()("#block-"+o.blockId+" .oet-publication-intro-block .admin-publication-intro-heading .rich-text").text();0==s()("#block-"+o.blockId+" .oet-publication-intro-block .admin-publication-intro-heading #pub-intro-title").val().length&&0==t.trim().length?(s()("#block-"+o.blockId+" .oet-publication-intro-block .admin-publication-intro-heading .admin-publication-intro-error").html(""),s()("#block-"+o.blockId+" .oet-publication-intro-block .admin-publication-intro-heading .admin-publication-intro-error").text("Please specify one of the fields below.")):n({isChanged:!0})},isPrimary:!0},"Save"))))),o.isChanged&&(u=o,p=o.blockId,d={action:"display_publication_intro",attributes:u},s().ajax({url:oet_publication_intro.ajax_url,type:"POST",data:d,success:function(t){t.error?(s()("#block-"+p+" .oet-publication-intro-block").html(""),s()("#block-"+p+" .oet-publication-intro-block").html(t.message)):(s()("#block-"+p+" .oet-publication-intro-block").html(""),s()("#block-"+p+" .oet-publication-intro-block").html(t))},error:function(t,e,o){console.log(o)}})),[(0,r.createElement)(r.Fragment,null,(0,r.createElement)(a.InspectorControls,{key:o.blockId},(0,r.createElement)(c.PanelBody,{title:(0,i.__)("Publication Intro Block Settings","oet-publication-intro-block"),initialOpen:!0},(0,r.createElement)(c.PanelRow,null,(0,r.createElement)(TextControl,{label:(0,i.__)("Title","oet-publication-intro-block"),value:o.title,onChange:t=>{n({title:t,isChanged:!0})}})),(0,r.createElement)(c.PanelRow,null,(0,r.createElement)(c.TextareaControl,{label:(0,i.__)("Content","oet-publication-intro-block"),value:o.content,onChange:t=>{n({content:t,isChanged:!0})}}))))),(0,r.createElement)("div",(0,a.useBlockProps)(),(0,r.createElement)("div",{className:"oet-publication-intro-block","data-changed":o.isChanged},e))];var u,p,d}console.log(oet_publication_intro.version_58),1==oet_publication_intro.version_58?(0,n.registerBlockType)(l,{edit:u}):(0,n.registerBlockType)("oet-block/oet-publication-intro-block",{title:(0,i.__)("Publication Intro","oet-publication-intro-block"),category:"oet-block-category",icon:"format-aside",supports:{html:!1},attributes:{title:{type:"string"},content:{type:"string"},isChanged:{type:"boolean",default:!1},blockId:{type:"string"}},edit:u})}},o={};function n(t){var i=o[t];if(void 0!==i)return i.exports;var l=o[t]={exports:{}};return e[t](l,l.exports,n),l.exports}n.m=e,t=[],n.O=function(e,o,i,l){if(!o){var r=1/0;for(s=0;s<t.length;s++){o=t[s][0],i=t[s][1],l=t[s][2];for(var a=!0,c=0;c<o.length;c++)(!1&l||r>=l)&&Object.keys(n.O).every((function(t){return n.O[t](o[c])}))?o.splice(c--,1):(a=!1,l<r&&(r=l));if(a){t.splice(s--,1);var b=i();void 0!==b&&(e=b)}}return e}l=l||0;for(var s=t.length;s>0&&t[s-1][2]>l;s--)t[s]=t[s-1];t[s]=[o,i,l]},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={826:0,46:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,l,r=o[0],a=o[1],c=o[2],b=0;if(r.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)var s=c(n)}for(e&&e(o);b<r.length;b++)l=r[b],n.o(t,l)&&t[l]&&t[l][0](),t[r[b]]=0;return n.O(s)},o=self.webpackChunkoet_publication_intro=self.webpackChunkoet_publication_intro||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var i=n.O(void 0,[46],(function(){return n(557)}));i=n.O(i)}();
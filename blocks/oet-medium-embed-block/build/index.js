(window.webpackJsonp_oet_medium_embed_block=window.webpackJsonp_oet_medium_embed_block||[]).push([[1],{6:function(e,t,l){}}]),function(e){function t(t){for(var n,r,i=t[0],c=t[1],m=t[2],s=0,d=[];s<i.length;s++)r=i[s],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(u&&u(t);d.length;)d.shift()();return a.push.apply(a,m||[]),l()}function l(){for(var e,t=0;t<a.length;t++){for(var l=a[t],n=!0,i=1;i<l.length;i++){var c=l[i];0!==o[c]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=l[0]))}return e}var n={},o={0:0},a=[];function r(t){if(n[t])return n[t].exports;var l=n[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,r),l.l=!0,l.exports}r.m=e,r.c=n,r.d=function(e,t,l){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(l,n,function(t){return e[t]}.bind(null,n));return l},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window.webpackJsonp_oet_medium_embed_block=window.webpackJsonp_oet_medium_embed_block||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var m=0;m<i.length;m++)t(i[m]);var u=c;a.push([7,1]),l()}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.jQuery},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.blocks},,function(e,t,l){"use strict";l.r(t);var n=l(5),o=l(2),a=(l(6),l(0)),r=l(4),i=l(1),c=l(3),m=l.n(c);Object(n.registerBlockType)("oet-block/oet-medium-embed-block",{title:Object(o.__)("OET Medium Embed","oet-medium-embed-block"),category:"oet-block-category",icon:"media-code",supports:{html:!1},attributes:{url:{type:"string",default:""},title:{type:"string",default:""},description:{type:"string",default:""},bgcolor:{type:"string",default:""},bgImage:{type:"string"},textalign:{type:"string",default:""},align:{type:"string",default:""},authorurl:{type:"string",default:""},authorname:{type:"string",default:""},authorlogo:{type:"string",default:""},embedCode:{type:"string",default:""},isChanged:{type:"boolean",default:!1},blockId:{type:"string"},firstLoad:{type:"boolean",default:!0},mediumUrl:{type:"string"}},edit:function(e){const{attributes:t,setAttributes:l,isSelected:n,clientId:c}=e,u=[{label:"Select Alignment",value:""},{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}];var s,d,b,p=Object(a.createElement)("div",{className:"admin-medium-heading"},Object(a.createElement)("h2",{className:"medium-heading components-placeholder__label"},Object(a.createElement)("svg",{height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 195 195"},Object(a.createElement)("g",{fill:"none"},Object(a.createElement)("path",{d:"M0 0h195v195H0z",fill:"#12100e"}),Object(a.createElement)("path",{d:"M46.534 65.216a5.074 5.074 0 0 0-1.651-4.28L32.65 46.2V44h37.98l29.355 64.381L125.795 44H162v2.201l-10.458 10.027a3.057 3.057 0 0 0-1.162 2.935v73.674a3.057 3.057 0 0 0 1.162 2.935l10.213 10.027V148h-51.372v-2.201l10.58-10.272c1.04-1.04 1.04-1.345 1.04-2.934V73.042l-29.417 74.713H88.61L54.362 73.042v50.074a6.908 6.908 0 0 0 1.896 5.747l13.76 16.691v2.201H31v-2.2l13.76-16.692a6.663 6.663 0 0 0 1.774-5.747z",fill:"#fff"})))," Medium Blog Post Embed"),Object(a.createElement)("div",{className:"admin-medium-body components-placeholder__instructions"},Object(a.createElement)("p",null,"The easiest way to start embedding a blog post is by importing the data using the post URL.")),Object(a.createElement)("div",{className:"admin-medium-input-block components-placeholder__fieldset"},Object(a.createElement)("form",null,Object(a.createElement)("span",{className:"admin-medium-input-label"},"Post URL: "),Object(a.createElement)(i.TextControl,{value:t.mediumUrl,onChange:e=>{l({mediumUrl:e})},className:Object(o.__)("components-placeholder__input medium-post-url","wp-oet-theme"),id:Object(o.__)("mediumPostUrl","wp-oet-theme")}),Object(a.createElement)(i.Button,{className:"btn-import-mediumUrl components-button is-primary",onClick:()=>{if(""!==t.mediumUrl){var e={action:"get_medium_post",medium_url:t.mediumUrl};m.a.ajax({url:oet_medium_embed.ajaxurl,type:"POST",data:e,dataType:"json",success:function(e){"object"!=typeof e?m()("#block-"+c+" .oet-medium-embed-block .admin-medium-input-block").append('<div class="notice notice-warning is-dismissible"><p>Medium Post not found. Please set options manually on the block settings.</p>'):l({url:e.url,title:e.title,description:e.description,authorurl:e.authorurl,authorlogo:e.authorlogo,isChanged:!0})},error:function(e,t,l){m()("#block-"+c+" .oet-medium-embed-block .admin-medium-input-block").append('<div class="notice notice-error is-dismissible"><p>An error was encountered: '+l+". Please set options manually on the block settings.</p>")}})}},isPrimary:!0},"Import"))));return c!==t.blockId&&l({blockId:c}),t.isChanged&&(s=t,d=t.blockId,b={action:"display_medium_embed",attributes:s},""!==s.title&&m.a.ajax({url:oet_medium_embed.ajaxurl,type:"POST",data:b,success:function(e){m()("#block-"+d+" .oet-medium-embed-block").html(""),m()("#block-"+d+" .oet-medium-embed-block").html(e)},error:function(e,t,l){console.log(l)}})),[Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.InspectorControls,{key:"medium-embed-controls"},Object(a.createElement)(i.PanelBody,{title:Object(o.__)("Medium Embed Settings","wp-oet-theme"),initialOpen:!0},Object(a.createElement)(i.PanelRow,null,Object(a.createElement)(i.TextControl,{label:"Medium Url:",value:t.url,onChange:e=>{l({url:e,isChanged:!0})}})),Object(a.createElement)(i.PanelRow,null,Object(a.createElement)(i.TextControl,{label:"Title:",value:t.title,onChange:e=>{l({title:e,isChanged:!0})},className:Object(o.__)("medium-title","wp-oet-theme")})),Object(a.createElement)(i.PanelRow,null,Object(a.createElement)(i.TextareaControl,{label:"Description:",value:t.description,onChange:e=>{l({description:e,isChanged:!0})},rows:"6"})),Object(a.createElement)(i.PanelRow,null,Object(a.createElement)(i.SelectControl,{className:Object(o.__)("medium-embed-block-alignment","wp-oet-theme"),label:"Block Alignment:",value:t.align,options:u,onChange:e=>{l({align:e,isChanged:!0})}})),Object(a.createElement)(i.PanelRow,null,Object(a.createElement)(i.SelectControl,{className:Object(o.__)("medium-embed-alignment","wp-oet-theme"),label:"Text Alignment:",value:t.textalign,options:u,onChange:e=>{l({textalign:e,isChanged:!0})}})),Object(a.createElement)(i.PanelRow,{className:"multi-input"},Object(a.createElement)(i.TextControl,{label:"Background Image:",className:Object(o.__)("medium-embed-bgimage","wp-oet-theme"),value:t.bgImage,onChange:e=>{l({bgImage:e,isChanged:!0})}}),Object(a.createElement)(i.Button,{className:"btn-medium-image",onClick:()=>{window.frame||(window.frame=wp.media({title:"Select or upload local resource",button:{text:"Use this image as background"},multiple:!1}),window.frame.on("select",(function(){var e=window.frame.state().get("selection").first().toJSON();l({bgImage:e.url,isChanged:!0})}))),window.frame.open()},isPrimary:!0},"...")),Object(a.createElement)(i.PanelRow,{className:"label-only"},Object(a.createElement)("label",{className:"components-base-control__label"},"Background Color:")),Object(a.createElement)(i.PanelRow,{className:"colorpicker-only"},Object(a.createElement)(i.ColorPicker,{label:"Background Color:",color:t.bgcolor,onChangeComplete:e=>{l({bgcolor:e.hex,isChanged:!0})},disableAlpha:!0})),Object(a.createElement)(i.PanelRow,null,Object(a.createElement)(i.TextControl,{label:"Author Url:",value:t.authorurl,onChange:e=>{l({authorurl:e,isChanged:!0})}})),Object(a.createElement)(i.PanelRow,null,Object(a.createElement)(i.TextControl,{label:"Author Name:",value:t.authorname,onChange:e=>{l({authorname:e,isChanged:!0})}})),Object(a.createElement)(i.PanelRow,null,Object(a.createElement)(i.TextControl,{label:"Author Logo:",value:t.authorlogo,onChange:e=>{l({authorlogo:e,isChanged:!0})}}))))),Object(a.createElement)("div",{className:"oet-medium-embed-block"},p)]}})}]);
!function(){"use strict";var e,t={908:function(e,t,o){var n=window.wp.blocks,i=window.wp.i18n,l=window.wp.element,a=window.wp.blockEditor,r=window.wp.components,d=window.jQuery,c=o.n(d);(0,n.registerBlockType)("oet-block/oet-video-block",{title:(0,i.__)("OET Video Block","oet-video-block"),category:"oet-block-category",icon:"embed-video",supports:{html:!1},attributes:{url:{type:"string",default:""},heading:{type:"string",default:""},title:{type:"string",default:""},description:{type:"string",default:""},blockHeight:{type:"number"},isChanged:{type:"boolean",default:!1},blockId:{type:"string"},firstLoad:{type:"boolean",default:!0},videoUrl:{type:"string"},videoId:{type:"string"}},edit:function(e){const{attributes:t,setAttributes:o,isSelected:n,clientId:d}=e,s=e=>{o({heading:e,isChanged:!0})};var u,p,v,m=(0,l.createElement)("div",{className:"admin-video-heading"},(0,l.createElement)("h2",{className:"video-heading components-placeholder__label"},(0,l.createElement)(r.TextControl,{value:t.heading,onChange:s,className:"components-placeholder__input video-title",id:"ytVideoTitle",placeholder:(0,i.__)("Featured Video Title","wp-oet-theme")})),(0,l.createElement)("div",{className:"admin-video-body components-placeholder__instructions"},(0,l.createElement)("p",null,"Embed a YouTube video by importing the data using the video URL.")),(0,l.createElement)("div",{className:"admin-video-input-block components-placeholder__fieldset"},(0,l.createElement)("form",null,(0,l.createElement)("span",{className:"admin-video-input-label"},"Video URL: "),(0,l.createElement)(r.TextControl,{value:t.videoUrl,onChange:e=>{o({videoUrl:e,isChanged:!0})},className:"components-placeholder__input video-url",id:"ytVideoUrl"}),(0,l.createElement)(r.Button,{className:"btn-import-videoUrl components-button is-primary",onClick:()=>{if(t.videoUrl){var e={action:"get_video_id",url:t.videoUrl};c().ajax({url:oet_video_block.ajaxurl,type:"POST",data:e,dataType:"json",success:function(e){o({videoId:e.video_id,isChanged:!0})},error:function(e,t,o){c()("#block-"+d+" .oet-video-block .admin-video-input-block").append('<div class="notice notice-error is-dismissible"><p>An error was encountered: '+o+". Please set options manually on the block settings.</p></div>")}})}},isPrimary:!0},"Import"))));return d!==t.blockId&&o({blockId:d}),t.isChanged&&void 0!==t.videoId&&(u=t,p=t.blockId,v={action:"display_video_block",attributes:u},""!==u.videoId&&c().ajax({url:oet_video_block.ajaxurl,type:"POST",data:v,success:function(e){console.log(e),c()("#block-"+p+" .oet-video-block").html(""),c()("#block-"+p+" .oet-video-block").html(e)},error:function(e,t,o){console.log(o)}})),[(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a.InspectorControls,{key:t.blockId},(0,l.createElement)(r.PanelBody,{title:(0,i.__)("Video Block Settings","wp-oet-theme"),initialOpen:!0},(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.TextControl,{label:(0,i.__)("Video ID","wp-oet-theme"),value:t.videoId,onChange:e=>{o({videoId:e,isChanged:!0})}})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.TextControl,{label:(0,i.__)("Heading","wp-oet-theme"),value:t.heading,onChange:s,className:"video-block-heading"})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.TextareaControl,{label:(0,i.__)("Description","wp-oet-theme"),value:t.description,onChange:e=>{o({description:e,isChanged:!0})},rows:"6"})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.TextControl,{label:"Height(in pixels)",value:t.blockHeight,onChange:e=>{o({blockHeight:e,isChanged:!0})}}))))),(0,l.createElement)("div",{className:"oet-video-block"},m)]}})}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=function(t,o,i,l){if(!o){var a=1/0;for(s=0;s<e.length;s++){o=e[s][0],i=e[s][1],l=e[s][2];for(var r=!0,d=0;d<o.length;d++)(!1&l||a>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[d])}))?o.splice(d--,1):(r=!1,l<a&&(a=l));if(r){e.splice(s--,1);var c=i();void 0!==c&&(t=c)}}return t}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[o,i,l]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,46:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,l,a=o[0],r=o[1],d=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(d)var s=d(n)}for(t&&t(o);c<a.length;c++)l=a[c],n.o(e,l)&&e[l]&&e[l][0](),e[a[c]]=0;return n.O(s)},o=self.webpackChunkoet_video_block=self.webpackChunkoet_video_block||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var i=n.O(void 0,[46],(function(){return n(908)}));i=n.O(i)}();